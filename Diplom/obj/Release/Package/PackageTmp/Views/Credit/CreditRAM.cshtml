@model List<Diplom.Models.ViewModel>


@{
    ViewBag.Title = "Запрос - Оперативная память";
}

    @using (Ajax.BeginForm("CreditRAM", "Credit", new AjaxOptions() { HttpMethod = "POST" }))
    {
        <form>
            <section style="margin-top:30px">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1>Введите данные (ОЗУ)</h1>
                    </div>
                    @if (Model.FirstOrDefault(x => x.id == 1).uniqId != 0)
                    {
                        <input class="form-control invisible" name="idRam" value="@Model.FirstOrDefault(x => x.id == 1).uniqId" />
                    }
                    <div class="modal-body">
                        <table class="table table-condensed table-striped table-bordered">
                            <tr>
                                <td>Наименование:</td>
                                <td><input name="nameRam" type="text" id="nameRam" class="form-control" value="@Model.FirstOrDefault(x => x.id==1).Name"></td>
                            </tr>
                            <tr>
                                <td>Производитель:</td>
                                <td>
                                    <select name="idManufacture" id="idManufacture" class="form-control">
                                        @foreach (var item in Model)
                                        {
                                            if (item.brand != null)
                                            {
                                                <option value="@item.id">@item.brand</option>
                                            }
                                        }
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Разьем памяти:</td>
                                <td>
                                    <select name="idRamType" id="idRamType" class="form-control">
                                        @foreach (var item in Model)
                                        {
                                            if (item.type != null)
                                            {
                                                <option value="@item.id" id="@item.id">@item.type</option>
                                            }
                                        }
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Частота:</td>
                                <td>
                                    <select name="idFreq" id="idFreq" class="form-control">
                                        @foreach (var item in Model)
                                        {
                                            if (item.frequency != null)
                                            {
                                                <option value="@item.id">@item.frequency</option>
                                            }
                                        }
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>Вместимость</td>
                                <td><input type="text" name="Cap" id="Cap" class="form-control" value="@Model.FirstOrDefault(x => x.id==1).cap"></td>
                            </tr>
                            <tr>
                                <td>Стоимость</td>
                                <td><input type="text" name="price" id="price" class="form-control" value="@Decimal.Round(Model.FirstOrDefault(x => x.id==1).price.GetValueOrDefault(),2)"></td>
                            </tr>
                            <tr>
                                <td>Количество:</td>
                                <td><input type="text" name="count" id="count" class="form-control" value="@Model.FirstOrDefault(x => x.id==1).count"></td>
                            </tr>
                        </table>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-default" data-dismiss="modal">Закрыть</button>
                        <button class="btn btn-primary" type="submit" onclick="sendPost('RAM')">Сохранить</button>
                    </div>
                </div>
            </section>
        </form>
    }

<script>
    $(document).ready(function () {
        $("#idManufacture").val(@Model.FirstOrDefault(x => x.id == 1).idbrand);
        $("#idRamType").val(@Model.FirstOrDefault(x => x.id == 1).idtype);
        $("#idFreq").val(@Model.FirstOrDefault(x => x.id == 1).idFreq);
    });
</script>

